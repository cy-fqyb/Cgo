
2024/02/08 00:19:09 E:/go/Cgo/front/dao/MsgDao.go:72 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = ? AND DATE(msg.create_time) = ?)' at line 1
[183.356ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id` AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time IN (SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id`)

2024/02/08 00:21:31 E:/go/Cgo/front/dao/MsgDao.go:72 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '? AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = ? AND DATE(msg.create_time) = ' at line 1
[168.253ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id LEFT JOIN false AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time IN (false)

2024/02/08 00:23:02 E:/go/Cgo/front/dao/MsgDao.go:72 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = ? AND DATE(msg.create_time) = ?)' at line 1
[154.567ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id` AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time = (SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id`)

2024/02/08 00:23:24 E:/go/Cgo/front/dao/MsgDao.go:72 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = ? AND DATE(msg.create_time) = ?)' at line 1
[155.471ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id` AS dmc ON u.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time = (SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id`)

2024/02/08 00:25:37 E:/go/Cgo/front/dao/MsgDao.go:73 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS dmc ON users.id = dmc.from_id WHERE (msg.to_id = ? AND DATE(msg.create_time) ' at line 1
[161.110ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM `users` LEFT JOIN msg ON msg.from_id = users.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id` AS dmc ON users.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time IN (SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id`)

2024/02/08 00:26:57 E:/go/Cgo/front/dao/MsgDao.go:72 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` AS dmc ON users.i' at line 1
[158.655ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM `users` LEFT JOIN msg ON msg.from_id = users.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` AS dmc ON users.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time IN (SELECT from_id, MAX(create_time) AS max_create_time FROM `msg`)

2024/02/08 00:27:52 E:/go/Cgo/front/dao/MsgDao.go:72 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` AS dmc ON users.i' at line 1
[180.011ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM `users` LEFT JOIN msg ON msg.from_id = users.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` AS dmc ON users.id = dmc.from_id WHERE (msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08') AND msg.create_time > (SELECT from_id, MAX(create_time) AS max_create_time FROM `msg`)

2024/02/08 00:30:01 E:/go/Cgo/front/dao/MsgDao.go:71 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS dmc ON u.id = dmc.from_id WHERE msg.to_id = ? AND DATE(msg.create_time) = ?' at line 1
[194.490ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id LEFT JOIN SELECT from_id, MAX(create_time) AS max_create_time FROM `msg` GROUP BY `from_id` AS dmc ON u.id = dmc.from_id WHERE msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08'

2024/02/08 00:30:33 E:/go/Cgo/front/dao/MsgDao.go:68 Error 1054 (42S22): Unknown column 'dmc.message_count' in 'field list'
[160.945ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id

2024/02/08 00:31:42 E:/go/Cgo/front/dao/MsgDao.go:68
[196.887ms] [rows:27] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar FROM users u LEFT JOIN msg ON msg.from_id = u.id

2024/02/08 00:39:38 E:/go/Cgo/front/dao/MsgDao.go:68 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id,count(*) as message_count FROM `msg` WHERE date(create_time) = cu' at line 1
[169.583ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar,dmc.message_count as msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id (SELECT from_id,count(*) as message_count FROM `msg` WHERE date(create_time) = curdate() GROUP BY `from_id`) as dmc on dmc.from_id = u.id WHERE msg.to_id = '2' and date(msg.create_time) = curdate() and msg.create_time = (select max(create_time) from msg where msg.from_id = u.id))

2024/02/08 00:42:19 E:/go/Cgo/front/dao/MsgDao.go:66 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id,count(*) as message_count FROM `msg` WHERE date(create_time) = cu' at line 1
[398.853ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id (SELECT from_id,count(*) as message_count FROM `msg` WHERE date(create_time) = curdate() GROUP BY `from_id`) as dmc ON dmc.from_id = u.id WHERE msg.to_id = '2' AND date(msg.create_time) = curdate() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:43:52 E:/go/Cgo/front/dao/MsgDao.go:70 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id, count(*) as message_count FROM `msg` WHERE DATE(create_time) = ?' at line 1
[167.602ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id (SELECT from_id, count(*) as message_count FROM `msg` WHERE DATE(create_time) = '2024-02-08' GROUP BY `from_id`) AS dmc ON dmc.from_id = u.id WHERE msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08' AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:46:38 E:/go/Cgo/front/dao/MsgDao.go:70 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id, count(*) as message_count FROM `msg` WHERE DATE(create_time) = ?' at line 1
[181.776ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id (SELECT from_id, count(*) as message_count FROM `msg` WHERE DATE(create_time) = '2024-02-08' GROUP BY `from_id`) AS dmc ON dmc.from_id = u.id WHERE msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08' AND msg.create_time = (SELECT Max(create_time) FROM `msg` WHERE msg.from_id = u.id)

2024/02/08 00:48:28 E:/go/Cgo/front/dao/MsgDao.go:70 Error 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT from_id, count(*) as message_count FROM `msg` WHERE DATE(create_time) = ?' at line 1
[177.570ms] [rows:-] SELECT u.id AS friend_id, u.name AS friend_name, msg.msg AS content, msg.create_time AS time, u.avatar AS avatar, dmc.message_count AS msg_count FROM users u LEFT JOIN msg ON msg.from_id = u.id (SELECT from_id, count(*) as message_count FROM `msg` WHERE DATE(create_time) = '2024-02-08' GROUP BY `from_id`) AS dmc ON dmc.from_id = u.id WHERE msg.to_id = '2' AND DATE(msg.create_time) = '2024-02-08' 

2024/02/08 00:50:37 E:/go/Cgo/front/dao/MsgDao.go:69 SLOW SQL >= 200ms
[216.706ms] [rows:0] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = 2 AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:51:10 E:/go/Cgo/front/dao/MsgDao.go:69 SLOW SQL >= 200ms
[214.894ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = 2 AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:51:59 E:/go/Cgo/front/dao/MsgDao.go:69 SLOW SQL >= 200ms
[224.804ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = 2 AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:53:08 E:/go/Cgo/front/dao/MsgDao.go:69 SLOW SQL >= 200ms
[1245.561ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = 2 AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:53:13 E:/go/Cgo/front/dao/MsgDao.go:69 SLOW SQL >= 200ms
[224.810ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = 2 AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:53:32 E:/go/Cgo/front/dao/MsgDao.go:69 SLOW SQL >= 200ms
[206.458ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = 2 AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:54:52 E:/go/Cgo/front/dao/MsgDao.go:54 SLOW SQL >= 200ms
[219.648ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = '2' AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:55:01 E:/go/Cgo/front/dao/MsgDao.go:54 SLOW SQL >= 200ms
[204.090ms] [rows:0] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = '1' AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:55:24 E:/go/Cgo/front/dao/MsgDao.go:54 SLOW SQL >= 200ms
[217.510ms] [rows:1] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = '2' AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)

2024/02/08 00:56:03 E:/go/Cgo/front/dao/MsgDao.go:54
[199.919ms] [rows:2] SELECT u.id as friend_id, u.name as friend_name, msg.msg as content, msg.create_time AS time, u.avatar as avatar, daily_message_counts.message_count as msg_count FROM users u left join msg on msg.from_id = u.id LEFT JOIN (SELECT from_id, COUNT(*) AS message_count FROM `msg` WHERE DATE(create_time) = CURDATE() GROUP BY `from_id`) AS daily_message_counts ON u.id = daily_message_counts.from_id WHERE msg.to_id = '2' AND DATE(msg.create_time) = CURDATE() AND msg.create_time = (SELECT MAX(create_time) FROM msg WHERE msg.from_id = u.id)
